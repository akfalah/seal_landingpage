<section id="testimonials" class="section-wrapper">
  <div class="w-full text-center lg:space-y-2">
    <span class="label-section">TESTIMONIALS</span>

    <h3 class="title-section relative">
      Simak Apa Kata
      <span class="highlight">Mereka! </span>
    </h3>
  </div>

  <div class="testimonials-container">
    <div class="testimonials-mobile">
      <button (click)="prevItem()">
        <svg
          width="17"
          height="16"
          viewBox="0 0 17 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M11.7162 1.64601C11.7628 1.69245 11.7997 1.74763 11.8249 1.80838C11.8501 1.86912 11.8631 1.93424 11.8631 2.00001C11.8631 2.06578 11.8501 2.1309 11.8249 2.19164C11.7997 2.25239 11.7628 2.30756 11.7162 2.35401L6.06922 8.00001L11.7162 13.646C11.8101 13.7399 11.8629 13.8672 11.8629 14C11.8629 14.1328 11.8101 14.2601 11.7162 14.354C11.6223 14.4479 11.495 14.5006 11.3622 14.5006C11.2294 14.5006 11.1021 14.4479 11.0082 14.354L5.00822 8.35401C4.96166 8.30756 4.92472 8.25239 4.89951 8.19164C4.8743 8.1309 4.86133 8.06578 4.86133 8.00001C4.86133 7.93424 4.8743 7.86912 4.89951 7.80838C4.92472 7.74763 4.96166 7.69245 5.00822 7.64601L11.0082 1.64601C11.0547 1.59945 11.1098 1.5625 11.1706 1.5373C11.2313 1.51209 11.2965 1.49911 11.3622 1.49911C11.428 1.49911 11.4931 1.51209 11.5539 1.5373C11.6146 1.5625 11.6698 1.59945 11.7162 1.64601Z"
            fill="currentColor"
          />
        </svg>
      </button>

      <div class="testimonials-slider">
        <div
          class="slider-track"
          [ngStyle]="{
            transform: 'translateX(-' + currentIndex() * 100 + '%)'
          }"
        >
          <div
            *ngFor="let item of testimonials"
            class="min-w-full flex items-center gap-2 text-dark-400"
          >
            <div class="avatar"></div>

            <div class="w-full">
              <p
                [ngClass]="selectedItem === item.name ? 'text-primary-500' : ''"
                class="text-body-lg-bold transition-all ease-out duration-300"
              >
                {{ item.name }}
              </p>
              <p class="text-body-xs">
                <span class="text-body-xs-medium">{{ item.program }},</span>
                {{ item.position }}
              </p>
            </div>
          </div>
        </div>
      </div>

      <button (click)="nextItem()">
        <svg
          width="17"
          height="16"
          viewBox="0 0 17 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M5.00822 1.64601C5.05467 1.59945 5.10984 1.5625 5.17059 1.5373C5.23133 1.51209 5.29645 1.49911 5.36222 1.49911C5.42799 1.49911 5.49311 1.51209 5.55386 1.5373C5.6146 1.5625 5.66978 1.59945 5.71622 1.64601L11.7162 7.64601C11.7628 7.69245 11.7997 7.74763 11.8249 7.80838C11.8501 7.86912 11.8631 7.93424 11.8631 8.00001C11.8631 8.06578 11.8501 8.1309 11.8249 8.19164C11.7997 8.25239 11.7628 8.30756 11.7162 8.35401L5.71622 14.354C5.62234 14.4479 5.495 14.5006 5.36222 14.5006C5.22945 14.5006 5.10211 14.4479 5.00822 14.354C4.91433 14.2601 4.86159 14.1328 4.86159 14C4.86159 13.8672 4.91433 13.7399 5.00822 13.646L10.6552 8.00001L5.00822 2.35401C4.96166 2.30756 4.92472 2.25239 4.89951 2.19164C4.8743 2.1309 4.86133 2.06578 4.86133 2.00001C4.86133 1.93424 4.8743 1.86912 4.89951 1.80838C4.92472 1.74763 4.96166 1.69245 5.00822 1.64601Z"
            fill="currentColor"
          />
        </svg>
      </button>
    </div>

    <div class="testimonials-desktop">
      <div
        *ngFor="let item of testimonials"
        (click)="toggleItem(item.name)"
        class="desktop-item"
      >
        <div class="avatar"></div>

        <div class="w-full">
          <p
            [ngClass]="selectedItem === item.name ? 'text-primary-500' : ''"
            class="text-h7 transition-all ease-out duration-300"
          >
            {{ item.name }}
          </p>

          <p class="text-body-xs">
            <span class="text-body-xs-semibold">{{ item.program }},</span>
            {{ item.position }}
          </p>
        </div>

        <div
          *ngIf="selectedItem === item.name"
          class="highlight-indicator"
          [ngClass]="{
            'animate-slide-right': direction === 'right',
            'animate-slide-left': direction === 'left'
          }"
        ></div>
      </div>
    </div>

    <div class="divider">
      <div
        class="highlight-indicator-mobile"
      ></div>
    </div>
  </div>

  <div class="testimonials-comment">
    <p>
      {{ getSelectedItem()?.comment }}
    </p>
  </div>
</section>
